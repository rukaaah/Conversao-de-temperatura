<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="conver.css">
    <title>Conversão de Fahrenheit</title>
    <script>
        let js_valid
        var js_if
        js_if = 0
        js_valid = 'direita'

        function calc() {
            //const para calcular o celsius
            const calcsc = {
                Fahrenheit(y) {
                    return (y - 32) / 1.8
                },
                Celsius(y) {
                    return (y)

                },
                Kelvin(y) {
                    y = parseFloat(y)
                    return (y - 273.15)
                }
            }
            //const para calcular o fahrenheit
            const calcsf = {
                Fahrenheit(y) {
                    return (y)
                },
                Celsius(y) {
                    return (y * 1.8) + 32

                },
                Kelvin(y) {

                    return (y - 273.15) * 1.8 + 32
                }
            }
            //const para calcular o kelvin
            const calcsk = {
                Fahrenheit(y) {
                    return ((y - 32) * 5 / 9) + 273
                },
                Celsius(y) {
                    y = parseFloat(y)
                    return (y + 273.15)

                },
                Kelvin(y) {
                    return (y)
                }
            }
            //const para juntar os calculos
            const tempe = {
                Celsius(y, z) {
                    const calculo = calcsc[z]
                    return (calculo(y))
                },
                Fahrenheit(y, z) {
                    const calculo = calcsf[z]
                    return (calculo(y))
                },
                Kelvin(y, z) {
                    const calculo = calcsk[z]
                    return (calculo(y))
                }
            }
            //resto da função
            var js_valor = document.getElementById('valor').value
            var js_temp1 = document.getElementById('temp1').value
            var js_temp2 = document.getElementById('temp2').value
            switch (js_valid) {
                case 'direita':
                    const calcc = tempe[js_temp2]
                    document.getElementById('result').value = calcc(js_valor, js_temp1)
                    break;

                case 'esquerda':
                    const calcc2 = tempe[js_temp1]
                    document.getElementById('result').value = calcc2(js_valor, js_temp2)
                    break;
                default:
                    break;
            }
        }

        function troca() {


            var seta = document.getElementById('seta')
            switch (js_if) {
                case 0:
                    seta.classList.add('setalado');
                    js_if = 1;
                    js_valid = 'esquerda';
                    break;

                case 1:
                    seta.classList.remove('setalado');
                    js_if = 0;
                    js_valid = 'direita';
                    break;
            }

        }

        function simblabel() {
            switch (js_valid) {
                case 'esquerda':
                    var simbsig = document.getElementById('temp2').value
                    simbsig = simbsig.toUpperCase()
                    if (simbsig == 'CELSIUS') {
                        document.getElementById('simb').innerHTML = "°C"
                    }
                    if (simbsig == 'FAHRENHEIT') {
                        document.getElementById('simb').innerHTML = "°F"
                    }
                    if (simbsig == 'KELVIN') {
                        document.getElementById('simb').innerHTML = "K"
                    }
                    if (simbsig == '') {
                        document.getElementById('simb').innerHTML = "?"
                    }
                    break;

                case 'direita':
                    var simbsig = document.getElementById('temp1').value
                    simbsig = simbsig.toUpperCase()
                    if (simbsig == 'CELSIUS') {
                        document.getElementById('simb').innerHTML = "°C"
                    }
                    if (simbsig == 'FAHRENHEIT') {
                        document.getElementById('simb').innerHTML = "°F"
                    }
                    if (simbsig == 'KELVIN') {
                        document.getElementById('simb').innerHTML = "K"
                    }
                    if (simbsig == '') {
                        document.getElementById('simb').innerHTML = "?"
                    }
                    break;
            }

        }
        function simblabel2() {
            switch (js_valid) {
                case 'esquerda':
                    var simbsig = document.getElementById('temp1').value
                    simbsig = simbsig.toUpperCase()
                    if (simbsig == 'CELSIUS') {
                        document.getElementById('simbres').innerHTML = "°C"
                    }
                    if (simbsig == 'FAHRENHEIT') {
                        document.getElementById('simbres').innerHTML = "°F"
                    }
                    if (simbsig == 'KELVIN') {
                        document.getElementById('simbres').innerHTML = "°K"
                    }
                    if (simbsig == '') {
                        document.getElementById('simb').innerHTML = "?"
                    }
                    break;

                case 'direita':
                    var simbsig = document.getElementById('temp2').value
                    simbsig = simbsig.toUpperCase()
                    if (simbsig == 'CELSIUS') {
                        document.getElementById('simbres').innerHTML = "°C"
                    }
                    if (simbsig == 'FAHRENHEIT') {
                        document.getElementById('simbres').innerHTML = "°F"
                    }
                    if (simbsig == 'KELVIN') {
                        document.getElementById('simbres').innerHTML = "°K"
                    }

                    if (simbsig == '') {
                        document.getElementById('simbres').innerHTML = "?"
                    }
                    break;
            }
        }
        function teste() {
            var num = document.getElementById('rangeva').value
            alert(num)
        }
    </script>
</head>

<body>
    <div class="bigteste"></div>
    <div class="centr">
        <div class="header">
            <h1 class="texto">Conversão de Temperatura</h1>
        </div>
        <form>
            <br>
            Insira aqui o primeiro valor:
            <br>
            <input type="number" id="valor" name="valor" oninput="rangeva.value=value; calc()"
                onchange="rangeva.value=value; calc()">
            <label id="simb" for="valor">?</label><br>

            <input type="range" style="width: 80%;" min="0" max="10000" name="testerange" id="rangeva" oninput="valor.value=value; calc()"
                onchange="valor.value=value; calc()"> <br> <br>

            <select onchange="simblabel();simblabel2();calc()" name="temp1" id="temp1">
                <option></option>
                <option>Celsius</option>
                <option>Fahrenheit</option>
                <option>Kelvin</option>
            </select><img id="seta" src="https://www.pngmart.com/files/16/Black-Left-Arrow-Transparent-Background.png"
                class="arrow" onclick="troca();simblabel();simblabel2()"><select
                onchange="simblabel();simblabel2();calc()" class="selectd" name="temp2" id="temp2">
                <option></option>
                <option>Celsius</option>
                <option>Fahrenheit</option>
                <option>Kelvin</option>
            </select>
            <br> <br>
            Resultado:
            <br>
            <input id="result" type="number" readonly> <label for="result" id="simbres">?</label>

        </form>
    </div>
</body>

</html>